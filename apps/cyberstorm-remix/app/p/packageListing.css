@layer nimbus-layout {
  .package-listing {
    display: flex;
    flex-wrap: wrap;
    gap: var(--gap-xxxl);
    align-items: flex-start;
    align-self: stretch;
    justify-content: center;
  }

  .package-listing__main {
    display: flex;
    flex: 1 0 0;
    flex: 1 1 40rem;
    flex-direction: column;
    gap: var(--gap-xl);
    align-items: flex-start;
    min-width: 0;
    max-width: 70rem;
    padding-top: var(--space-16);
  }

  .package-listing__content-header {
    display: flex;
    gap: var(--gap-xl);
    align-items: flex-start;
    align-self: stretch;
    padding: var(--space-16);
  }

  .package-listing__meta {
    display: flex;
    flex: 1 1 0;
    flex-direction: column;
    gap: var(--gap-xs);
    align-self: stretch;
  }

  .package-listing__usage-actions {
    display: flex;
    flex: 1 1 0;
    flex-direction: column;
    gap: var(--gap-xs);
  }

  .package-listing__install-download {
    display: flex;
    flex: 1 1 0;
    flex-flow: row wrap;
    gap: var(--gap-xs);
    align-content: stretch;
  }

  .package-listing__action-button {
    display: flex;
    flex-grow: 1;
    justify-content: center;
    width: unset;
  }

  .package-listing__dependency_string {
    display: inline-flex;
    flex: 1 1 0;
    flex-direction: row;
    gap: var(--gap-md);
    align-items: center;
    justify-content: center;
    padding: var(--space-8);
    border: solid 1px var(--color-surface-8);
    border-radius: var(--radius-md);
    color: var(--color-text-tertiary);
    background-color: var(--color-surface-2);
  }

  .package-listing__interaction-and-data {
    display: flex;
    flex: 1 1 0;
    flex-flow: row wrap;
    justify-content: space-between;
  }

  .package-listing__package-data {
    display: flex;
    flex: 1 1 0;
    flex-direction: row;
    gap: var(--gap-xxs);

    > div {
      display: flex;
      flex-direction: column;
      gap: var(--gap-xxs);

      > span {
        display: inline-flex;
        flex-wrap: nowrap;
        gap: var(--gap-xs);
        align-items: center;
        padding: var(--space-8) var(--space-12);
        border-radius: var(--radius-md);
        color: var(--color-text-tertiary);
        font-weight: var(--font-weight-bold);
        font-size: var(--font-size-body-sm);
        line-height: normal;
        background-color: var(--color-surface-default);

        --icon-color: var(--color-text-accent);

        > span {
          text-wrap: nowrap;
        }
      }
    }
  }

  .package-listing__package-interactions {
    display: flex;
    flex: 1 1 0;
    flex-direction: row-reverse;
  }

  .package-listing__content {
    display: flex;
    flex: 1 0 0;
    flex-direction: column;
    gap: var(--gap-xxxl);
    align-items: flex-start;
    align-self: stretch;
  }

  .package-listing-sidebar {
    position: sticky;
    top: var(--header-height);
    display: flex;
    flex: 0 0 300px;
    flex-direction: column;
    gap: var(--gap-md);
    align-items: flex-start;
    padding-top: var(--gap-md);
  }

  .package-listing-sidebar__install {
    justify-content: center;
    width: 100%;
  }

  .package-listing-sidebar__main {
    display: flex;
    flex-direction: column;
    gap: var(--gap-md);
    align-items: flex-start;
    align-self: stretch;
  }

  .package-listing-sidebar__actions {
    display: flex;
    gap: var(--gap-xs);
    align-items: flex-start;
    align-self: stretch;
  }

  .package-listing-sidebar__download {
    flex-grow: 1;
    justify-content: center;
  }

  .package-listing-sidebar__meta {
    display: flex;
    flex-direction: column;
    gap: var(--gap-xxxs);
    align-items: flex-start;
    align-self: stretch;

    > :first-child {
      border-radius: var(--radius-md) var(--radius-md) 0 0;
    }

    > :last-child {
      border-radius: 0 0 var(--radius-md) var(--radius-md);
    }
  }

  .package-listing-sidebar__item {
    display: flex;
    gap: var(--gap-xxxl);
    align-items: center;
    align-self: stretch;
    padding: var(--space-8) var(--space-12);
    background: var(--color-surface-default);
  }

  .package-listing-sidebar__label {
    color: var(--color-text-tertiary);
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-body-sm);
    line-height: normal;
  }

  .package-listing-sidebar__content {
    flex: 1 0 0;
    color: var(--color-text-primary);
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-body-sm);
    line-height: normal;
    text-align: right;
  }

  .package-listing-sidebar__dependency-string-wrapper {
    display: flex;
    flex: 1 0 0;
    gap: var(--gap-xs);
    align-items: center;
    justify-content: flex-end;
  }

  .package-listing-sidebar__dependency-string {
    max-width: 15ch;

    /* overflow-x: clip; */
    color: var(--color-text-primary);
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-body-sm);

    /* white-space: nowrap; */

    /* text-overflow: ellipsis; */
    word-break: break-word;
  }

  .package-listing-sidebar__categories {
    display: flex;
    flex-direction: column;
    gap: var(--gap-md);
    align-items: flex-start;
    align-self: stretch;
    padding: var(--space-16);
    border-radius: var(--radius-md);
    background-color: var(--color-surface-default);
  }

  .package-listing-sidebar__header {
    display: flex;
    align-items: center;
    align-self: stretch;
  }

  .package-listing-sidebar__body {
    display: flex;
    flex: 1 1 0;
    flex-wrap: wrap;
    gap: var(--gap-xs);
    align-content: flex-start;
    align-items: flex-start;
    align-self: stretch;
    min-width: 100px;
    max-width: 300px;
  }

  /* Mobile breakpoint */
  @media (width <= 475px) {
    .package-listing {
      flex-wrap: wrap;
      overflow: unset;
    }

    .package-listing__main {
      min-width: 100%;
    }

    .package-listing-sidebar {
      flex-grow: 1;
    }

    .package-listing-sidebar__install {
      display: none;
    }
  }
}
